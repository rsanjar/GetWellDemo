/*! lightgallery - v1.2.21 - 2016-06-28
* http://sachinchoolur.github.io/lightGallery/
* Copyright (c) 2016 Sachin N; Licensed Apache 2.0 */
(function(n,t,i){"use strict";function r(t,r){if(this.el=t,this.$el=n(t),this.s=n.extend({},u,r),this.s.dynamic&&this.s.dynamicEl!=="undefined"&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in i.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.$items=this.s.dynamic?this.s.dynamicEl:this.s.selector==="this"?this.$el:this.s.selector!==""?this.s.selectWithin?n(this.s.selectWithin).find(this.s.selector):this.$el.find(n(this.s.selector)):this.$el.children(),this.$slide="",this.$outer="",this.init(),this}var u={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};r.prototype.init=function(){var i=this,r;if(i.s.preload>i.$items.length&&(i.s.preload=i.$items.length),r=t.location.hash,r.indexOf("lg="+this.s.galleryId)>0&&(i.index=parseInt(r.split("&slide=")[1],10),n("body").addClass("lg-from-hash"),n("body").hasClass("lg-on")||setTimeout(function(){i.build(i.index);n("body").addClass("lg-on")})),i.s.dynamic)i.$el.trigger("onBeforeOpen.lg"),i.index=i.s.index||0,n("body").hasClass("lg-on")||setTimeout(function(){i.build(i.index);n("body").addClass("lg-on")});else i.$items.on("click.lgcustom",function(t){try{t.preventDefault();t.preventDefault()}catch(r){t.returnValue=!1}i.$el.trigger("onBeforeOpen.lg");i.index=i.s.index||i.$items.index(this);n("body").hasClass("lg-on")||(i.build(i.index),n("body").addClass("lg-on"))})};r.prototype.build=function(t){var i=this;i.structure();n.each(n.fn.lightGallery.modules,function(t){i.modules[t]=new n.fn.lightGallery.modules[t](i.el)});i.slide(t,!1,!1);i.s.keyPress&&i.keyPress();i.$items.length>1&&(i.arrow(),setTimeout(function(){i.enableDrag();i.enableSwipe()},50),i.s.mousewheel&&i.mousewheel());i.counter();i.closeGallery();i.$el.trigger("onAfterOpen.lg");i.$outer.on("mousemove.lg click.lg touchstart.lg",function(){i.$outer.removeClass("lg-hide-items");clearTimeout(i.hideBartimeout);i.hideBartimeout=setTimeout(function(){i.$outer.addClass("lg-hide-items")},i.s.hideBarsDelay)})};r.prototype.structure=function(){var f="",e="",i=0,o="",s,r=this,u;for(n("body").append('<div class="lg-backdrop"><\/div>'),n(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),i=0;i<this.$items.length;i++)f+='<div class="lg-item"><\/div>';this.s.controls&&this.$items.length>1&&(e='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'<\/div><div class="lg-next lg-icon">'+this.s.nextHtml+"<\/div><\/div>");this.s.appendSubHtmlTo===".lg-sub-html"&&(o='<div class="lg-sub-html"><\/div>');s='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+f+'<\/div><div class="lg-toolbar group"><span class="lg-close lg-icon"><\/span><\/div>'+e+o+"<\/div><\/div>";n("body").append(s);this.$outer=n(".lg-outer");this.$slide=this.$outer.find(".lg-item");this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3");r.setTop();n(t).on("resize.lg orientationchange.lg",function(){setTimeout(function(){r.setTop()},100)});this.$slide.eq(this.index).addClass("lg-current");this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0);this.$outer.addClass(this.s.mode);this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab");this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load");this.doCss()&&(u=this.$outer.find(".lg-inner"),u.css("transition-timing-function",this.s.cssEasing),u.css("transition-duration",this.s.speed+"ms"));n(".lg-backdrop").addClass("in");setTimeout(function(){r.$outer.addClass("lg-visible")},this.s.backdropDuration);this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" target="_blank" download class="lg-download lg-icon"><\/a>');this.prevScrollTop=n(t).scrollTop()};r.prototype.setTop=function(){if(this.s.height!=="100%"){var i=n(t).height(),u=(i-parseInt(this.s.height,10))/2,r=this.$outer.find(".lg");i>=parseInt(this.s.height,10)?r.css("top",u+"px"):r.css("top","0px")}};r.prototype.doCss=function(){var n=function(){for(var t=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],r=i.documentElement,n=0,n=0;n<t.length;n++)if(t[n]in r.style)return!0};return n()?!0:!1};r.prototype.isVideo=function(n,t){var i;if(i=this.s.dynamic?this.s.dynamicEl[t].html:this.$items.eq(t).attr("data-html"),!n&&i)return{html5:!0};var r=n.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),u=n.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),f=n.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),e=n.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return r?{youtube:r}:u?{vimeo:u}:f?{dailymotion:f}:e?{vk:e}:void 0};r.prototype.counter=function(){this.s.counter&&n(this.s.appendCounterTo).append('<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'<\/span> / <span id="lg-counter-all">'+this.$items.length+"<\/span><\/div>")};r.prototype.addHtml=function(t){var i=null,r,u,f;this.s.dynamic?this.s.dynamicEl[t].subHtmlUrl?r=this.s.dynamicEl[t].subHtmlUrl:i=this.s.dynamicEl[t].subHtml:(u=this.$items.eq(t),u.attr("data-sub-html-url")?r=u.attr("data-sub-html-url"):(i=u.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!i&&(i=u.attr("title")||u.find("img").first().attr("alt"))));r||(typeof i!="undefined"&&i!==null?(f=i.substring(0,1),(f==="."||f==="#")&&(i=this.s.subHtmlSelectorRelative&&!this.s.dynamic?u.find(i).html():n(i).html())):i="");this.s.appendSubHtmlTo===".lg-sub-html"?r?this.$outer.find(this.s.appendSubHtmlTo).load(r):this.$outer.find(this.s.appendSubHtmlTo).html(i):r?this.$slide.eq(t).load(r):this.$slide.eq(t).append(i);typeof i!="undefined"&&i!==null&&(i===""?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html"));this.$el.trigger("onAfterAppendSubHtml.lg",[t])};r.prototype.preload=function(n){for(var t=1,i=1,t=1;t<=this.s.preload;t++){if(t>=this.$items.length-n)break;this.loadContent(n+t,!1,0)}for(i=1;i<=this.s.preload;i++){if(n-i<0)break;this.loadContent(n-i,!1,0)}};r.prototype.loadContent=function(i,r,u){var f=this,s=!1,h,o,v,c,l,y,w=function(i){for(var r,h,u,f=[],s=[],e=0;e<i.length;e++)r=i[e].split(" "),r[0]===""&&r.splice(0,1),s.push(r[0]),f.push(r[1]);for(h=n(t).width(),u=0;u<f.length;u++)if(parseInt(f[u],10)>h){o=s[u];break}},b,k,a,e,p;if(f.s.dynamic?(f.s.dynamicEl[i].poster&&(s=!0,v=f.s.dynamicEl[i].poster),y=f.s.dynamicEl[i].html,o=f.s.dynamicEl[i].src,f.s.dynamicEl[i].responsive&&(b=f.s.dynamicEl[i].responsive.split(","),w(b)),c=f.s.dynamicEl[i].srcset,l=f.s.dynamicEl[i].sizes):(f.$items.eq(i).attr("data-poster")&&(s=!0,v=f.$items.eq(i).attr("data-poster")),y=f.$items.eq(i).attr("data-html"),o=f.$items.eq(i).attr("href")||f.$items.eq(i).attr("data-src"),f.$items.eq(i).attr("data-responsive")&&(k=f.$items.eq(i).attr("data-responsive").split(","),w(k)),c=f.$items.eq(i).attr("data-srcset"),l=f.$items.eq(i).attr("data-sizes")),a=!1,f.s.dynamic?f.s.dynamicEl[i].iframe&&(a=!0):f.$items.eq(i).attr("data-iframe")==="true"&&(a=!0),e=f.isVideo(o,i),!f.$slide.eq(i).hasClass("lg-loaded")){if(a?f.$slide.eq(i).prepend('<div class="lg-video-cont" style="max-width:'+f.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+o+'"  allowfullscreen="true"><\/iframe><\/div><\/div>'):s?(p="",p=e&&e.youtube?"lg-has-youtube":e&&e.vimeo?"lg-has-vimeo":"lg-has-html5",f.$slide.eq(i).prepend('<div class="lg-video-cont '+p+' "><div class="lg-video"><span class="lg-video-play"><\/span><img class="lg-object lg-has-poster" src="'+v+'" /><\/div><\/div>')):e?(f.$slide.eq(i).prepend('<div class="lg-video-cont "><div class="lg-video"><\/div><\/div>'),f.$el.trigger("hasVideo.lg",[i,o,y])):f.$slide.eq(i).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+o+'" /><\/div>'),f.$el.trigger("onAferAppendSlide.lg",[i]),h=f.$slide.eq(i).find(".lg-object"),l&&h.attr("sizes",l),c){h.attr("srcset",c);try{picturefill({elements:[h[0]]})}catch(d){console.error("Make sure you have included Picturefill version 2")}}this.s.appendSubHtmlTo!==".lg-sub-html"&&f.addHtml(i);f.$slide.eq(i).addClass("lg-loaded")}f.$slide.eq(i).find(".lg-object").on("load.lg error.lg",function(){var t=0;u&&!n("body").hasClass("lg-from-hash")&&(t=u);setTimeout(function(){f.$slide.eq(i).addClass("lg-complete");f.$el.trigger("onSlideItemLoad.lg",[i,u||0])},t)});if(e&&e.html5&&!s&&f.$slide.eq(i).addClass("lg-complete"),r===!0)if(f.$slide.eq(i).hasClass("lg-complete"))f.preload(i);else f.$slide.eq(i).find(".lg-object").on("load.lg error.lg",function(){f.preload(i)})};r.prototype.slide=function(t,i,r){var f=this.$outer.find(".lg-current").index(),u=this,l,h,c;if(!u.lGalleryOn||f!==t){var e=this.$slide.length,a=u.lGalleryOn?this.s.speed:0,o=!1,s=!1;u.lgBusy||(this.s.download&&(l=u.s.dynamic?u.s.dynamicEl[t].downloadUrl!==!1&&(u.s.dynamicEl[t].downloadUrl||u.s.dynamicEl[t].src):u.$items.eq(t).attr("data-download-url")!=="false"&&(u.$items.eq(t).attr("data-download-url")||u.$items.eq(t).attr("href")||u.$items.eq(t).attr("data-src")),l?(n("#lg-download").attr("href",l),u.$outer.removeClass("lg-hide-download")):u.$outer.addClass("lg-hide-download")),this.$el.trigger("onBeforeSlide.lg",[f,t,i,r]),u.lgBusy=!0,clearTimeout(u.hideBartimeout),this.s.appendSubHtmlTo===".lg-sub-html"&&setTimeout(function(){u.addHtml(t)},a),this.arrowDisable(t),i?(h=t-1,c=t+1,t===0&&f===e-1?(c=0,h=e-1):t===e-1&&f===0&&(c=0,h=e-1),this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide"),u.$slide.eq(h).addClass("lg-prev-slide"),u.$slide.eq(c).addClass("lg-next-slide"),u.$slide.eq(t).addClass("lg-current")):(u.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),t<f?(s=!0,t!==0||f!==e-1||r||(s=!1,o=!0)):t>f&&(o=!0,t!==e-1||f!==0||r||(s=!0,o=!1)),s?(this.$slide.eq(t).addClass("lg-prev-slide"),this.$slide.eq(f).addClass("lg-next-slide")):o&&(this.$slide.eq(t).addClass("lg-next-slide"),this.$slide.eq(f).addClass("lg-prev-slide")),setTimeout(function(){u.$slide.removeClass("lg-current");u.$slide.eq(t).addClass("lg-current");u.$outer.removeClass("lg-no-trans")},50)),u.lGalleryOn?(setTimeout(function(){u.loadContent(t,!0,0)},this.s.speed+50),setTimeout(function(){u.lgBusy=!1;u.$el.trigger("onAfterSlide.lg",[f,t,i,r])},this.s.speed)):(u.loadContent(t,!0,u.s.backdropDuration),u.lgBusy=!1,u.$el.trigger("onAfterSlide.lg",[f,t,i,r])),u.lGalleryOn=!0,this.s.counter&&n("#lg-counter-current").text(t+1))}};r.prototype.goToNextSlide=function(n){var t=this;t.lgBusy||(t.index+1<t.$slide.length?(t.index++,t.$el.trigger("onBeforeNextSlide.lg",[t.index]),t.slide(t.index,n,!1)):t.s.loop?(t.index=0,t.$el.trigger("onBeforeNextSlide.lg",[t.index]),t.slide(t.index,n,!1)):t.s.slideEndAnimatoin&&(t.$outer.addClass("lg-right-end"),setTimeout(function(){t.$outer.removeClass("lg-right-end")},400)))};r.prototype.goToPrevSlide=function(n){var t=this;t.lgBusy||(t.index>0?(t.index--,t.$el.trigger("onBeforePrevSlide.lg",[t.index,n]),t.slide(t.index,n,!1)):t.s.loop?(t.index=t.$items.length-1,t.$el.trigger("onBeforePrevSlide.lg",[t.index,n]),t.slide(t.index,n,!1)):t.s.slideEndAnimatoin&&(t.$outer.addClass("lg-left-end"),setTimeout(function(){t.$outer.removeClass("lg-left-end")},400)))};r.prototype.keyPress=function(){var i=this;if(this.$items.length>1)n(t).on("keyup.lg",function(n){i.$items.length>1&&(n.keyCode===37&&(n.preventDefault(),i.goToPrevSlide()),n.keyCode===39&&(n.preventDefault(),i.goToNextSlide()))});n(t).on("keydown.lg",function(n){i.s.escKey===!0&&n.keyCode===27&&(n.preventDefault(),i.$outer.hasClass("lg-thumb-open")?i.$outer.removeClass("lg-thumb-open"):i.destroy())})};r.prototype.arrow=function(){var n=this;this.$outer.find(".lg-prev").on("click.lg",function(){n.goToPrevSlide()});this.$outer.find(".lg-next").on("click.lg",function(){n.goToNextSlide()})};r.prototype.arrowDisable=function(n){!this.s.loop&&this.s.hideControlOnEnd&&(n+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),n>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))};r.prototype.setTranslate=function(n,t,i){this.s.useLeft?n.css("left",t):n.css({transform:"translate3d("+t+"px, "+i+"px, 0px)"})};r.prototype.touchMove=function(t,i){var r=i-t;Math.abs(r)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),r,0),this.setTranslate(n(".lg-prev-slide"),-this.$slide.eq(this.index).width()+r,0),this.setTranslate(n(".lg-next-slide"),this.$slide.eq(this.index).width()+r,0))};r.prototype.touchEnd=function(n){var t=this;t.s.mode!=="lg-slide"&&t.$outer.addClass("lg-slide");this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0");setTimeout(function(){t.$outer.removeClass("lg-dragging");n<0&&Math.abs(n)>t.s.swipeThreshold?t.goToNextSlide(!0):n>0&&Math.abs(n)>t.s.swipeThreshold?t.goToPrevSlide(!0):Math.abs(n)<5&&t.$el.trigger("onSlideClick.lg");t.$slide.removeAttr("style")});setTimeout(function(){t.$outer.hasClass("lg-dragging")||t.s.mode==="lg-slide"||t.$outer.removeClass("lg-slide")},t.s.speed+100)};r.prototype.enableSwipe=function(){var n=this,t=0,i=0,r=!1;if(n.s.enableSwipe&&n.isTouch&&n.doCss()){n.$slide.on("touchstart.lg",function(i){n.$outer.hasClass("lg-zoomed")||n.lgBusy||(i.preventDefault(),n.manageSwipeClass(),t=i.originalEvent.targetTouches[0].pageX)});n.$slide.on("touchmove.lg",function(u){n.$outer.hasClass("lg-zoomed")||(u.preventDefault(),i=u.originalEvent.targetTouches[0].pageX,n.touchMove(t,i),r=!0)});n.$slide.on("touchend.lg",function(){n.$outer.hasClass("lg-zoomed")||(r?(r=!1,n.touchEnd(i-t)):n.$el.trigger("onSlideClick.lg"))})}};r.prototype.enableDrag=function(){var i=this,u=0,f=0,r=!1,e=!1;if(i.s.enableDrag&&!i.isTouch&&i.doCss()){i.$slide.on("mousedown.lg",function(t){i.$outer.hasClass("lg-zoomed")||(n(t.target).hasClass("lg-object")||n(t.target).hasClass("lg-video-play"))&&(t.preventDefault(),i.lgBusy||(i.manageSwipeClass(),u=t.pageX,r=!0,i.$outer.scrollLeft+=1,i.$outer.scrollLeft-=1,i.$outer.removeClass("lg-grab").addClass("lg-grabbing"),i.$el.trigger("onDragstart.lg")))});n(t).on("mousemove.lg",function(n){r&&(e=!0,f=n.pageX,i.touchMove(u,f),i.$el.trigger("onDragmove.lg"))});n(t).on("mouseup.lg",function(t){e?(e=!1,i.touchEnd(f-u),i.$el.trigger("onDragend.lg")):(n(t.target).hasClass("lg-object")||n(t.target).hasClass("lg-video-play"))&&i.$el.trigger("onSlideClick.lg");r&&(r=!1,i.$outer.removeClass("lg-grabbing").addClass("lg-grab"))})}};r.prototype.manageSwipeClass=function(){var t=this.index+1,n=this.index-1,i=this.$slide.length;this.s.loop&&(this.index===0?n=i-1:this.index===i-1&&(t=0));this.$slide.removeClass("lg-next-slide lg-prev-slide");n>-1&&this.$slide.eq(n).addClass("lg-prev-slide");this.$slide.eq(t).addClass("lg-next-slide")};r.prototype.mousewheel=function(){var n=this;n.$outer.on("mousewheel.lg",function(t){t.deltaY&&(t.deltaY>0?n.goToPrevSlide():n.goToNextSlide(),t.preventDefault())})};r.prototype.closeGallery=function(){var t=this,i=!1;this.$outer.find(".lg-close").on("click.lg",function(){t.destroy()});if(t.s.closable){t.$outer.on("mousedown.lg",function(t){i=n(t.target).is(".lg-outer")||n(t.target).is(".lg-item ")||n(t.target).is(".lg-img-wrap")?!0:!1});t.$outer.on("mouseup.lg",function(r){(n(r.target).is(".lg-outer")||n(r.target).is(".lg-item ")||n(r.target).is(".lg-img-wrap")&&i)&&(t.$outer.hasClass("lg-dragging")||t.destroy())})}};r.prototype.destroy=function(i){var r=this;i||r.$el.trigger("onBeforeClose.lg");n(t).scrollTop(r.prevScrollTop);i&&(r.s.dynamic||this.$items.off("click.lg click.lgcustom"),n.removeData(r.el,"lightGallery"));this.$el.off(".lg.tm");n.each(n.fn.lightGallery.modules,function(n){r.modules[n]&&r.modules[n].destroy()});this.lGalleryOn=!1;clearTimeout(r.hideBartimeout);this.hideBartimeout=!1;n(t).off(".lg");n("body").removeClass("lg-on lg-from-hash");r.$outer&&r.$outer.removeClass("lg-visible");n(".lg-backdrop").removeClass("in");setTimeout(function(){r.$outer&&r.$outer.remove();n(".lg-backdrop").remove();i||r.$el.trigger("onCloseAfter.lg")},r.s.backdropDuration+50)};n.fn.lightGallery=function(t){return this.each(function(){if(n.data(this,"lightGallery"))try{n(this).data("lightGallery").init()}catch(i){console.error("lightGallery has not initiated properly")}else n.data(this,"lightGallery",new r(this,t))})};n.fn.lightGallery.modules={}})(jQuery,window,document);
/**
 * Autoplay Plugin
 * @version 1.2.0
 * @author Sachin N - @sachinchoolur
 * @license MIT License (MIT)
 */
(function(n){"use strict";var i={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"},t=function(t){return(this.core=n(t).data("lightGallery"),this.$el=n(t),this.core.$items.length<2)?!1:(this.core.s=n.extend({},i,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)};t.prototype.init=function(){var n=this;n.core.s.autoplayControls&&n.controls();n.core.s.progressBar&&n.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"><\/div><\/div>');n.progress();n.core.s.autoplay&&n.startlAuto();n.$el.on("onDragstart.lg.tm touchstart.lg.tm",function(){n.interval&&(n.cancelAuto(),n.canceledOnTouch=!0)});n.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",function(){!n.interval&&n.canceledOnTouch&&(n.startlAuto(),n.canceledOnTouch=!1)})};t.prototype.progress=function(){var n=this,t,i;n.$el.on("onBeforeSlide.lg.tm",function(){n.core.s.progressBar&&n.fromAuto&&(t=n.core.$outer.find(".lg-progress-bar"),i=n.core.$outer.find(".lg-progress"),n.interval&&(i.removeAttr("style"),t.removeClass("lg-start"),setTimeout(function(){i.css("transition","width "+(n.core.s.speed+n.core.s.pause)+"ms ease 0s");t.addClass("lg-start")},20)));n.fromAuto||n.core.s.fourceAutoplay||n.cancelAuto();n.fromAuto=!1})};t.prototype.controls=function(){var t=this;n(this.core.s.appendAutoplayControlsTo).append('<span class="lg-autoplay-button lg-icon"><\/span>');t.core.$outer.find(".lg-autoplay-button").on("click.lg",function(){n(t.core.$outer).hasClass("lg-show-autoplay")?(t.cancelAuto(),t.core.s.fourceAutoplay=!1):t.interval||(t.startlAuto(),t.core.s.fourceAutoplay=t.fourceAutoplayTemp)})};t.prototype.startlAuto=function(){var n=this;n.core.$outer.find(".lg-progress").css("transition","width "+(n.core.s.speed+n.core.s.pause)+"ms ease 0s");n.core.$outer.addClass("lg-show-autoplay");n.core.$outer.find(".lg-progress-bar").addClass("lg-start");n.interval=setInterval(function(){n.core.index+1<n.core.$items.length?n.core.index++:n.core.index=0;n.fromAuto=!0;n.core.slide(n.core.index,!1,!1)},n.core.s.speed+n.core.s.pause)};t.prototype.cancelAuto=function(){clearInterval(this.interval);this.interval=!1;this.core.$outer.find(".lg-progress").removeAttr("style");this.core.$outer.removeClass("lg-show-autoplay");this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")};t.prototype.destroy=function(){this.cancelAuto();this.core.$outer.find(".lg-progress-bar").remove()};n.fn.lightGallery.modules.autoplay=t})(jQuery,window,document),function(n,t,i){"use strict";var u={fullScreen:!0},r=function(t){return this.core=n(t).data("lightGallery"),this.$el=n(t),this.core.s=n.extend({},u,this.core.s),this.init(),this};r.prototype.init=function(){var n="";if(this.core.s.fullScreen)if(i.fullscreenEnabled||i.webkitFullscreenEnabled||i.mozFullScreenEnabled||i.msFullscreenEnabled)n='<span class="lg-fullscreen lg-icon"><\/span>',this.core.$outer.find(".lg-toolbar").append(n),this.fullScreen();else return};r.prototype.requestFullscreen=function(){var n=i.documentElement;n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()};r.prototype.exitFullscreen=function(){i.fullscreen&&(i.exitFullscreen?i.exitFullscreen():i.msExitFullscreen?i.msExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.webkitExitFullscreen&&i.webkitExitFullscreen())};r.prototype.fullScreen=function(){var t=this;n(i).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",function(){t.core.$outer.toggleClass("lg-fullscreen-on")});this.core.$outer.find(".lg-fullscreen").on("click.lg",function(){i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement||i.msFullscreenElement?t.exitFullscreen():t.requestFullscreen()})};r.prototype.destroy=function(){this.exitFullscreen();n(i).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")};n.fn.lightGallery.modules.fullscreen=r}(jQuery,window,document),function(n){"use strict";var i={pager:!1},t=function(t){return this.core=n(t).data("lightGallery"),this.$el=n(t),this.core.s=n.extend({},i,this.core.s),this.core.s.pager&&this.core.$items.length>1&&this.init(),this};t.prototype.init=function(){var t=this,r="",u,i,e,f;if(t.core.$outer.find(".lg").append('<div class="lg-pager-outer"><\/div>'),t.core.s.dynamic)for(f=0;f<t.core.s.dynamicEl.length;f++)r+='<span class="lg-pager-cont"> <span class="lg-pager"><\/span><div class="lg-pager-thumb-cont"><span class="lg-caret"><\/span> <img src="'+t.core.s.dynamicEl[f].thumb+'" /><\/div><\/span>';else t.core.$items.each(function(){r+=t.core.s.exThumbImage?'<span class="lg-pager-cont"> <span class="lg-pager"><\/span><div class="lg-pager-thumb-cont"><span class="lg-caret"><\/span> <img src="'+n(this).attr(t.core.s.exThumbImage)+'" /><\/div><\/span>':'<span class="lg-pager-cont"> <span class="lg-pager"><\/span><div class="lg-pager-thumb-cont"><span class="lg-caret"><\/span> <img src="'+n(this).find("img").attr("src")+'" /><\/div><\/span>'});i=t.core.$outer.find(".lg-pager-outer");i.html(r);u=t.core.$outer.find(".lg-pager-cont");u.on("click.lg touchend.lg",function(){var i=n(this);t.core.index=i.index();t.core.slide(t.core.index,!1,!1)});i.on("mouseover.lg",function(){clearTimeout(e);i.addClass("lg-pager-hover")});i.on("mouseout.lg",function(){e=setTimeout(function(){i.removeClass("lg-pager-hover")})});t.core.$el.on("onBeforeSlide.lg.tm",function(n,t,i){u.removeClass("lg-pager-active");u.eq(i).addClass("lg-pager-active")})};t.prototype.destroy=function(){};n.fn.lightGallery.modules.pager=t}(jQuery,window,document),function(n,t){"use strict";var r={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},i=function(t){return this.core=n(t).data("lightGallery"),this.core.s=n.extend({},r,this.core.s),this.$el=n(t),this.$thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};i.prototype.init=function(){var n=this;this.core.s.thumbnail&&this.core.$items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){n.core.$outer.addClass("lg-thumb-open")},700),this.core.s.pullCaptionUp&&this.core.$outer.addClass("lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())};i.prototype.build=function(){function e(n,t,r){var u=i.core.isVideo(n,r)||{},e,s="";u.youtube||u.vimeo||u.dailymotion?u.youtube?e=i.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+u.youtube[1]+"/"+i.core.s.youtubeThumbSize+".jpg":t:u.vimeo?i.core.s.loadVimeoThumbnail?(e="//i.vimeocdn.com/video/error_"+f+".jpg",s=u.vimeo[1]):e=t:u.dailymotion&&(e=i.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+u.dailymotion[1]:t):e=t;o+='<div data-vimeo-id="'+s+'" class="lg-thumb-item" style="width:'+i.core.s.thumbWidth+"px; margin-right: "+i.core.s.thumbMargin+'px"><img src="'+e+'" /><\/div>';s=""}var i=this,o="",f="",r,u;switch(this.core.s.vimeoThumbSize){case"thumbnail_large":f="640";break;case"thumbnail_medium":f="200x150";break;case"thumbnail_small":f="100x75"}if(i.core.$outer.addClass("lg-has-thumb"),i.core.$outer.find(".lg").append('<div class="lg-thumb-outer"><div class="lg-thumb group"><\/div><\/div>'),i.$thumbOuter=i.core.$outer.find(".lg-thumb-outer"),i.thumbOuterWidth=i.$thumbOuter.width(),i.core.s.animateThumb&&i.core.$outer.find(".lg-thumb").css({width:i.thumbTotalWidth+"px",position:"relative"}),this.core.s.animateThumb&&i.$thumbOuter.css("height",i.core.s.thumbContHeight+"px"),i.core.s.dynamic)for(u=0;u<i.core.s.dynamicEl.length;u++)e(i.core.s.dynamicEl[u].src,i.core.s.dynamicEl[u].thumb,u);else i.core.$items.each(function(t){i.core.s.exThumbImage?e(n(this).attr("href")||n(this).attr("data-src"),n(this).attr(i.core.s.exThumbImage),t):e(n(this).attr("href")||n(this).attr("data-src"),n(this).find("img").attr("src"),t)});i.core.$outer.find(".lg-thumb").html(o);r=i.core.$outer.find(".lg-thumb-item");r.each(function(){var t=n(this),r=t.attr("data-vimeo-id");r&&n.getJSON("//www.vimeo.com/api/v2/video/"+r+".json?callback=?",{format:"json"},function(n){t.find("img").attr("src",n[0][i.core.s.vimeoThumbSize])})});r.eq(i.core.index).addClass("active");i.core.$el.on("onBeforeSlide.lg.tm",function(){r.removeClass("active");r.eq(i.core.index).addClass("active")});r.on("click.lg touchend.lg",function(){var t=n(this);setTimeout(function(){(!i.thumbClickable||i.core.lgBusy)&&i.core.doCss()||(i.core.index=t.index(),i.core.slide(i.core.index,!1,!0))},50)});i.core.$el.on("onBeforeSlide.lg.tm",function(){i.animateThumb(i.core.index)});n(t).on("resize.lg.thumb orientationchange.lg.thumb",function(){setTimeout(function(){i.animateThumb(i.core.index);i.thumbOuterWidth=i.$thumbOuter.width()},200)})};i.prototype.setTranslate=function(n){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+n+"px, 0px, 0px)"})};i.prototype.animateThumb=function(n){var i=this.core.$outer.find(".lg-thumb"),t;if(this.core.s.animateThumb){switch(this.core.s.currentPagerPosition){case"left":t=0;break;case"middle":t=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":t=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*n-1-t;this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth);this.left<0&&(this.left=0);this.core.lGalleryOn?(i.hasClass("on")||this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms"),this.core.doCss()||i.animate({left:-this.left+"px"},this.core.s.speed)):this.core.doCss()||i.css("left",-this.left+"px");this.setTranslate(this.left)}};i.prototype.enableThumbDrag=function(){var i=this,f=0,e=0,u=!1,o=!1,r=0;i.$thumbOuter.addClass("lg-grab");i.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",function(n){i.thumbTotalWidth>i.thumbOuterWidth&&(n.preventDefault(),f=n.pageX,u=!0,i.core.$outer.scrollLeft+=1,i.core.$outer.scrollLeft-=1,i.thumbClickable=!1,i.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))});n(t).on("mousemove.lg.thumb",function(n){u&&(r=i.left,o=!0,e=n.pageX,i.$thumbOuter.addClass("lg-dragging"),r=r-(e-f),r>i.thumbTotalWidth-i.thumbOuterWidth&&(r=i.thumbTotalWidth-i.thumbOuterWidth),r<0&&(r=0),i.setTranslate(r))});n(t).on("mouseup.lg.thumb",function(){o?(o=!1,i.$thumbOuter.removeClass("lg-dragging"),i.left=r,Math.abs(e-f)<i.core.s.swipeThreshold&&(i.thumbClickable=!0)):i.thumbClickable=!0;u&&(u=!1,i.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))})};i.prototype.enableThumbSwipe=function(){var n=this,i=0,r=0,u=!1,t=0;n.core.$outer.find(".lg-thumb").on("touchstart.lg",function(t){n.thumbTotalWidth>n.thumbOuterWidth&&(t.preventDefault(),i=t.originalEvent.targetTouches[0].pageX,n.thumbClickable=!1)});n.core.$outer.find(".lg-thumb").on("touchmove.lg",function(f){n.thumbTotalWidth>n.thumbOuterWidth&&(f.preventDefault(),r=f.originalEvent.targetTouches[0].pageX,u=!0,n.$thumbOuter.addClass("lg-dragging"),t=n.left,t=t-(r-i),t>n.thumbTotalWidth-n.thumbOuterWidth&&(t=n.thumbTotalWidth-n.thumbOuterWidth),t<0&&(t=0),n.setTranslate(t))});n.core.$outer.find(".lg-thumb").on("touchend.lg",function(){n.thumbTotalWidth>n.thumbOuterWidth?u?(u=!1,n.$thumbOuter.removeClass("lg-dragging"),Math.abs(r-i)<n.core.s.swipeThreshold&&(n.thumbClickable=!0),n.left=t):n.thumbClickable=!0:n.thumbClickable=!0})};i.prototype.toogle=function(){var n=this;if(n.core.s.toogleThumb){n.core.$outer.addClass("lg-can-toggle");n.$thumbOuter.append('<span class="lg-toogle-thumb lg-icon"><\/span>');n.core.$outer.find(".lg-toogle-thumb").on("click.lg",function(){n.core.$outer.toggleClass("lg-thumb-open")})}};i.prototype.thumbkeyPress=function(){var i=this;n(t).on("keydown.lg.thumb",function(n){n.keyCode===38?(n.preventDefault(),i.core.$outer.addClass("lg-thumb-open")):n.keyCode===40&&(n.preventDefault(),i.core.$outer.removeClass("lg-thumb-open"))})};i.prototype.destroy=function(){this.core.s.thumbnail&&this.core.$items.length>1&&(n(t).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"),this.$thumbOuter.remove(),this.core.$outer.removeClass("lg-has-thumb"))};n.fn.lightGallery.modules.Thumbnail=i}(jQuery,window,document),function(n){"use strict";var i={videoMaxWidth:"855px",youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}},t=function(t){return this.core=n(t).data("lightGallery"),this.$el=n(t),this.core.s=n.extend({},i,this.core.s),this.videoLoaded=!1,this.init(),this};t.prototype.init=function(){var t=this,i;t.core.$el.on("hasVideo.lg.tm",function(n,i,r,u){if(t.core.$slide.eq(i).find(".lg-video").append(t.loadVideo(r,"lg-object",!0,i,u)),u)if(t.core.s.videojs)try{videojs(t.core.$slide.eq(i).find(".lg-html5").get(0),t.core.s.videojsOptions,function(){t.videoLoaded||this.play()})}catch(f){console.error("Make sure you have included videojs")}else t.core.$slide.eq(i).find(".lg-html5").get(0).play()});t.core.$el.on("onAferAppendSlide.lg.tm",function(n,i){t.core.$slide.eq(i).find(".lg-video-cont").css("max-width",t.core.s.videoMaxWidth);t.videoLoaded=!0});if(i=function(n){var i,r,u,e;if(n.find(".lg-object").hasClass("lg-has-poster")&&n.find(".lg-object").is(":visible"))if(n.hasClass("lg-has-video")){var o=n.find(".lg-youtube").get(0),s=n.find(".lg-vimeo").get(0),h=n.find(".lg-dailymotion").get(0),f=n.find(".lg-html5").get(0);if(o)o.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(s)try{$f(s).api("play")}catch(c){console.error("Make sure you have included froogaloop2 js")}else if(h)h.contentWindow.postMessage("play","*");else if(f)if(t.core.s.videojs)try{videojs(f).play()}catch(c){console.error("Make sure you have included videojs")}else f.play();n.addClass("lg-video-playing")}else if(n.addClass("lg-video-playing lg-has-video"),u=function(i,r){if(n.find(".lg-video").append(t.loadVideo(i,"",!1,t.core.index,r)),r)if(t.core.s.videojs)try{videojs(t.core.$slide.eq(t.core.index).find(".lg-html5").get(0),t.core.s.videojsOptions,function(){this.play()})}catch(u){console.error("Make sure you have included videojs")}else t.core.$slide.eq(t.core.index).find(".lg-html5").get(0).play()},t.core.s.dynamic?(i=t.core.s.dynamicEl[t.core.index].src,r=t.core.s.dynamicEl[t.core.index].html,u(i,r)):(i=t.core.$items.eq(t.core.index).attr("href")||t.core.$items.eq(t.core.index).attr("data-src"),r=t.core.$items.eq(t.core.index).attr("data-html"),u(i,r)),e=n.find(".lg-object"),n.find(".lg-video").append(e),!n.find(".lg-video-object").hasClass("lg-html5")){n.removeClass("lg-complete");n.find(".lg-video-object").on("load.lg error.lg",function(){n.addClass("lg-complete")})}},t.core.doCss()&&t.core.$items.length>1&&(t.core.s.enableSwipe&&t.core.isTouch||t.core.s.enableDrag&&!t.core.isTouch))t.core.$el.on("onSlideClick.lg.tm",function(){var n=t.core.$slide.eq(t.core.index);i(n)});else t.core.$slide.on("click.lg",function(){i(n(this))});t.core.$el.on("onBeforeSlide.lg.tm",function(i,r,u){var f=t.core.$slide.eq(r),h=f.find(".lg-youtube").get(0),c=f.find(".lg-vimeo").get(0),l=f.find(".lg-dailymotion").get(0),o=f.find(".lg-vk").get(0),s=f.find(".lg-html5").get(0),a,e;if(h)h.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(c)try{$f(c).api("pause")}catch(v){console.error("Make sure you have included froogaloop2 js")}else if(l)l.contentWindow.postMessage("pause","*");else if(s)if(t.core.s.videojs)try{videojs(s).pause()}catch(v){console.error("Make sure you have included videojs")}else s.pause();o&&n(o).attr("src",n(o).attr("src").replace("&autoplay","&noplay"));a=t.core.s.dynamic?t.core.s.dynamicEl[u].src:t.core.$items.eq(u).attr("href")||t.core.$items.eq(u).attr("data-src");e=t.core.isVideo(a,u)||{};(e.youtube||e.vimeo||e.dailymotion||e.vk)&&t.core.$outer.addClass("lg-hide-download")});t.core.$el.on("onAfterSlide.lg.tm",function(n,i){t.core.$slide.eq(i).removeClass("lg-video-playing")})};t.prototype.loadVideo=function(t,i,r,u,f){var s="",h=1,e="",o=this.core.isVideo(t,u)||{},c;return r&&(h=this.videoLoaded?0:1),o.youtube?(e="?wmode=opaque&autoplay="+h+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(e=e+"&"+n.param(this.core.s.youtubePlayerParams)),s='<iframe class="lg-video-object lg-youtube '+i+'" width="560" height="315" src="//www.youtube.com/embed/'+o.youtube[1]+e+'" frameborder="0" allowfullscreen><\/iframe>'):o.vimeo?(e="?autoplay="+h+"&api=1",this.core.s.vimeoPlayerParams&&(e=e+"&"+n.param(this.core.s.vimeoPlayerParams)),s='<iframe class="lg-video-object lg-vimeo '+i+'" width="560" height="315"  src="//player.vimeo.com/video/'+o.vimeo[1]+e+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen><\/iframe>'):o.dailymotion?(e="?wmode=opaque&autoplay="+h+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(e=e+"&"+n.param(this.core.s.dailymotionPlayerParams)),s='<iframe class="lg-video-object lg-dailymotion '+i+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+o.dailymotion[1]+e+'" frameborder="0" allowfullscreen><\/iframe>'):o.html5?(c=f.substring(0,1),(c==="."||c==="#")&&(f=n(f).html()),s=f):o.vk&&(e="&autoplay="+h,this.core.s.vkPlayerParams&&(e=e+"&"+n.param(this.core.s.vkPlayerParams)),s='<iframe class="lg-video-object lg-vk '+i+'" width="560" height="315" src="http://vk.com/video_ext.php?'+o.vk[1]+e+'" frameborder="0" allowfullscreen><\/iframe>'),s};t.prototype.destroy=function(){this.videoLoaded=!1};n.fn.lightGallery.modules.video=t}(jQuery,window,document),function(n,t){"use strict";var r={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300},i=function(i){return this.core=n(i).data("lightGallery"),this.core.s=n.extend({},r,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=n(t).width()/2,this.pageY=n(t).height()/2+n(t).scrollTop()),this};i.prototype.init=function(){var i=this,o='<span id="lg-zoom-in" class="lg-icon"><\/span><span id="lg-zoom-out" class="lg-icon"><\/span>';i.core.s.actualSize&&(o+='<span id="lg-actual-size" class="lg-icon"><\/span>');this.core.$outer.find(".lg-toolbar").append(o);i.core.$el.on("onSlideItemLoad.lg.tm.zoom",function(t,r,u){var f=i.core.s.enableZoomAfter+u;n("body").hasClass("lg-from-hash")&&u?f=0:n("body").removeClass("lg-from-hash");i.zoomabletimeout=setTimeout(function(){i.core.$slide.eq(r).addClass("lg-zoomable")},f+30)});var r=1,s=function(r){var u=i.core.$outer.find(".lg-current .lg-image"),o,s,h=(n(t).width()-u.width())/2,c=(n(t).height()-u.height())/2+n(t).scrollTop(),f,e;o=i.pageX-h;s=i.pageY-c;f=(r-1)*o;e=(r-1)*s;u.css("transform","scale3d("+r+", "+r+", 1)").attr("data-scale",r);u.parent().css({left:-f+"px",top:-e+"px"}).attr("data-x",f).attr("data-y",e)},f=function(){r>1?i.core.$outer.addClass("lg-zoomed"):i.resetZoom();r<1&&(r=1);s(r)},e=function(u,e,o,s){var h=e.width(),c,l;c=i.core.s.dynamic?i.core.s.dynamicEl[o].width||e[0].naturalWidth||h:i.core.$items.eq(o).attr("data-width")||e[0].naturalWidth||h;i.core.$outer.hasClass("lg-zoomed")?r=1:c>h&&(l=c/h,r=l||2);s?(i.pageX=n(t).width()/2,i.pageY=n(t).height()/2+n(t).scrollTop()):(i.pageX=u.pageX||u.originalEvent.targetTouches[0].pageX,i.pageY=u.pageY||u.originalEvent.targetTouches[0].pageY);f();setTimeout(function(){i.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")},10)},u=!1;i.core.$el.on("onAferAppendSlide.lg.tm.zoom",function(n,t){var r=i.core.$slide.eq(t).find(".lg-image");r.on("dblclick",function(n){e(n,r,t)});r.on("touchstart",function(n){u?(clearTimeout(u),u=null,e(n,r,t)):u=setTimeout(function(){u=null},300);n.preventDefault()})});n(t).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",function(){i.pageX=n(t).width()/2;i.pageY=n(t).height()/2+n(t).scrollTop();s(r)});n("#lg-zoom-out").on("click.lg",function(){i.core.$outer.find(".lg-current .lg-image").length&&(r-=i.core.s.scale,f())});n("#lg-zoom-in").on("click.lg",function(){i.core.$outer.find(".lg-current .lg-image").length&&(r+=i.core.s.scale,f())});n("#lg-actual-size").on("click.lg",function(n){e(n,i.core.$slide.eq(i.core.index).find(".lg-image"),i.core.index,!0)});i.core.$el.on("onBeforeSlide.lg.tm",function(){r=1;i.resetZoom()});i.core.isTouch||i.zoomDrag();i.core.isTouch&&i.zoomSwipe()};i.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed");this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y");this.core.$slide.find(".lg-image").removeAttr("style data-scale");this.pageX=n(t).width()/2;this.pageY=n(t).height()/2+n(t).scrollTop()};i.prototype.zoomSwipe=function(){var n=this,t={},i={},f=!1,r=!1,u=!1;n.core.$slide.on("touchstart.lg",function(i){if(n.core.$outer.hasClass("lg-zoomed")){var f=n.core.$slide.eq(n.core.index).find(".lg-object");u=f.outerHeight()*f.attr("data-scale")>n.core.$outer.find(".lg").height();r=f.outerWidth()*f.attr("data-scale")>n.core.$outer.find(".lg").width();(r||u)&&(i.preventDefault(),t={x:i.originalEvent.targetTouches[0].pageX,y:i.originalEvent.targetTouches[0].pageY})}});n.core.$slide.on("touchmove.lg",function(e){if(n.core.$outer.hasClass("lg-zoomed")){var o=n.core.$slide.eq(n.core.index).find(".lg-img-wrap"),s,h;e.preventDefault();f=!0;i={x:e.originalEvent.targetTouches[0].pageX,y:e.originalEvent.targetTouches[0].pageY};n.core.$outer.addClass("lg-zoom-dragging");h=u?-Math.abs(o.attr("data-y"))+(i.y-t.y):-Math.abs(o.attr("data-y"));s=r?-Math.abs(o.attr("data-x"))+(i.x-t.x):-Math.abs(o.attr("data-x"));(Math.abs(i.x-t.x)>15||Math.abs(i.y-t.y)>15)&&o.css({left:s+"px",top:h+"px"})}});n.core.$slide.on("touchend.lg",function(){n.core.$outer.hasClass("lg-zoomed")&&f&&(f=!1,n.core.$outer.removeClass("lg-zoom-dragging"),n.touchendZoom(t,i,r,u))})};i.prototype.zoomDrag=function(){var i=this,u={},r={},f=!1,s=!1,e=!1,o=!1;i.core.$slide.on("mousedown.lg.zoom",function(t){var r=i.core.$slide.eq(i.core.index).find(".lg-object");o=r.outerHeight()*r.attr("data-scale")>i.core.$outer.find(".lg").height();e=r.outerWidth()*r.attr("data-scale")>i.core.$outer.find(".lg").width();i.core.$outer.hasClass("lg-zoomed")&&n(t.target).hasClass("lg-object")&&(e||o)&&(t.preventDefault(),u={x:t.pageX,y:t.pageY},f=!0,i.core.$outer.scrollLeft+=1,i.core.$outer.scrollLeft-=1,i.core.$outer.removeClass("lg-grab").addClass("lg-grabbing"))});n(t).on("mousemove.lg.zoom",function(n){if(f){var t=i.core.$slide.eq(i.core.index).find(".lg-img-wrap"),h,c;s=!0;r={x:n.pageX,y:n.pageY};i.core.$outer.addClass("lg-zoom-dragging");c=o?-Math.abs(t.attr("data-y"))+(r.y-u.y):-Math.abs(t.attr("data-y"));h=e?-Math.abs(t.attr("data-x"))+(r.x-u.x):-Math.abs(t.attr("data-x"));t.css({left:h+"px",top:c+"px"})}});n(t).on("mouseup.lg.zoom",function(n){f&&(f=!1,i.core.$outer.removeClass("lg-zoom-dragging"),s&&(u.x!==r.x||u.y!==r.y)&&(r={x:n.pageX,y:n.pageY},i.touchendZoom(u,r,e,o)),s=!1);i.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")})};i.prototype.touchendZoom=function(n,t,i,r){var u=this,f=u.core.$slide.eq(u.core.index).find(".lg-img-wrap"),s=u.core.$slide.eq(u.core.index).find(".lg-object"),e=-Math.abs(f.attr("data-x"))+(t.x-n.x),o=-Math.abs(f.attr("data-y"))+(t.y-n.y),h=(u.core.$outer.find(".lg").height()-s.outerHeight())/2,l=Math.abs(s.outerHeight()*Math.abs(s.attr("data-scale"))-u.core.$outer.find(".lg").height()+h),c=(u.core.$outer.find(".lg").width()-s.outerWidth())/2,a=Math.abs(s.outerWidth()*Math.abs(s.attr("data-scale"))-u.core.$outer.find(".lg").width()+c);(Math.abs(t.x-n.x)>15||Math.abs(t.y-n.y)>15)&&(r&&(o<=-l?o=-l:o>=-h&&(o=-h)),i&&(e<=-a?e=-a:e>=-c&&(e=-c)),r?f.attr("data-y",Math.abs(o)):o=-Math.abs(f.attr("data-y")),i?f.attr("data-x",Math.abs(e)):e=-Math.abs(f.attr("data-x")),f.css({left:e+"px",top:o+"px"}))};i.prototype.destroy=function(){var i=this;i.core.$el.off(".lg.zoom");n(t).off(".lg.zoom");i.core.$slide.off(".lg.zoom");i.core.$el.off(".lg.tm.zoom");i.resetZoom();clearTimeout(i.zoomabletimeout);i.zoomabletimeout=!1};n.fn.lightGallery.modules.zoom=i}(jQuery,window,document),function(n,t,i){"use strict";var u={hash:!0},r=function(i){return this.core=n(i).data("lightGallery"),this.core.s=n.extend({},u,this.core.s),this.core.s.hash&&(this.oldHash=t.location.hash,this.init()),this};r.prototype.init=function(){var i=this,r;i.core.$el.on("onAfterSlide.lg.tm",function(n,r,u){t.location.hash="lg="+i.core.s.galleryId+"&slide="+u});n(t).on("hashchange.lg.hash",function(){r=t.location.hash;var n=parseInt(r.split("&slide=")[1],10);r.indexOf("lg="+i.core.s.galleryId)>-1?i.core.slide(n,!1,!1):i.core.lGalleryOn&&i.core.destroy()})};r.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?t.location.hash=this.oldHash:history.pushState?history.pushState("",i.title,t.location.pathname+t.location.search):t.location.hash="",this.core.$el.off(".lg.hash"))};n.fn.lightGallery.modules.hash=r}(jQuery,window,document);